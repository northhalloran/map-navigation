<!DOCTYPE html>
<html><head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>MapNavigation Tests</title>
    
    <style type="text/css" media="screen">
        .map-container { width: 600px; height: 400px; }
    </style>
    
    <script src="http://js.othermedia.com/helium.js" type="text/javascript"></script>
    <script type="text/javascript">
        Helium.use('yui', '2.8.0r4');
        Helium.use('ojay', '0.4.2');
        
        Helium.GOOGLE_API_KEY = 'ABQIAAAArVbgzt5nxAQAZ_iB_77caBQCULP4XOMyhPd8d_NrQQEO8sT8XBTzVWhRwEDkVfNsvzo8bf4ntGV4ZQ';
    </script>
    <script src="./packages.js" type="text/javascript"></script>
</head><body>
    <ul id="the-list">
        <li>
            <a href="service/tom.html">
                the OTHER media
                <span class="geodata">{"lat": 51.498945, "lng": -0.080874}</span>
            </a>
        </li>
        <li>
            <a href="service/rah.html">
                Royal Albert Hall
                <span class="geodata">{"address": "London SW7 2AP"}</span>
            </a>
        </li>
        <li>
            <a class="news" href="service/mps.html">
                Parliament Sq.
                <span class="geodata">{"lat": 51.500514, "lng": -0.127497}</span>
            </a>
        </li>
    </ul>
    
    <script type="text/javascript">
        require('MapNavigation', function() {
            
            var mapNav = MapNavigation.fromHTML('#the-list');
            
            mapNav.on('pagerequest', function(map, url) {
               map.getDisplay().setStyle({opacity: 0});
            });
            
            mapNav.on('pageload', function(map, url) {
               map.getDisplay().animate({opacity: {to: 1}}, 0.4);
            });
        });
    </script>
</body></html>
